# 介绍
## 分类
- 广域网WAN 国 洲
- 城域网MAN 
- 局域网LAN 几千米-10米 因特网 WIFI
- 个域网PAN 小于10米 蓝牙

## 性能指标
- 带宽：表示网络的通信线路所能传送数据的能力，单位时间内从网络中的某一点到另一点所能通过的最高数据率
- 时延
  - 发送时延：主机发送到链路
  - 传播时延：链路上传播
  - 处理时延：路由器处理、转发
  - 排队时延
- 吞吐量：单位时间内某个网络或信道、接口的数据量
- 信道利用率：有数据通过的时间占比

## 因特网的组成
- Access Network
  - ADSL非对称数字用户线
    - 上行低速
    - 下行高速
  - FTTH 光纤到户
  - Core Network
    - IP 无连接
    - 帧中继和ATM异步传输模式 - 很少使用

## 电路交换和分组交换的区别
- 电路交换
- 报文交换
- 分组交换

## OSI体系结构和TCP/IP
### OSI
- 7 应用层 解决通过应用进程的交互来实现特定网络应用的问题
- 6 表示层 编码
- 5 会话层 同步
- 4 传输层 解决进程之间基于网络的通信问题
- 3 网络层 解决分组在多个网络的传输路由问题
- 2 数据链路层 解决分组在一段链路
- 1 物理层 解决使用什么信号来传输比特

### TCP/IP
- 4 应用层
- 3 传输层
- 2 网际层
- 1 网路接口层

## 协议
- 应用层： HTTP、SMTP...
- 传输层：TCP、UDP
- 网络层：IP、ICMP、IGMP、ARP、RARP
- 数据链路层：SDLC、HDLC、PPP、帧中继
- 物理层：802.3、曼彻斯特编码

# 物理层
## 信源、信道、信宿；单工、半双工、全双工

## 交换技术
### 电路交换
1. 建立连接
2. 数据传送
3. 释放连接

优点
- 通信时延小
- 有序传输
- 没有冲突
- 适用范围广
- 实时性强
- 控制简单

缺点
- 建立连接时间长
- 线路独占
- 使用效率低
- 灵活性差
- 难以规格化

### 报文交换
全部报文发送到相邻节点交换机，全部到达后再转发

优点
- 无需建立连接
- 动态分配线路
- 提高线路可靠性、利用率
- 提供多目标服务

缺点
- 转发时延
- 较大存储缓存空间
- 传输额外信息

### 分组交换
#### 虚电路
#### 数据报

构成原始报文的一个个分组一次发送、转发，交换机可以边发送边缓存
优点
- 无需建立连接
- 线路利用率高
- 简化存储管理
- 加速传输
- 减少出错概率

缺点
- 转发时延
- 额外信息量
- 失序、丢失、重复

## 传输介质
- 铜电线
- 光纤 屏蔽周围复杂环境 通信容量大
  - 单模 远
  - 多模
- 同轴电缆 抗干扰
- 双绞线
- 卫星
  - 低地球轨道
  - 中地球轨道
  - 地球静止轨道
- 接口特性

## 物理设备
集线器：半双工，不能分割冲突域(交换机全双工)
中继器：扩展LAN的模拟硬件设备

## 调制
AM
FM
PM 调 初相位

## 其他
WIFI信号强不强和高层协议相关么
- 不相关，物理、数据链路层的
  
大洲之间的网络如何连接
- 卫星、海底光缆

电动机等设备产生的电磁辐射会干扰使用**无线电波**传输的、或通过**传输电器能量**的通信系统
金属可以吸收辐射

# 数据链路层
## 任务
封装成帧
差错检测
可靠传输
## 以太网无确认无连接服务

## 差错检测
### 奇偶校验
### CRC
### 海明码
可以纠错 2d+1 码距
检错 d + 1 码距

## 介质访问控制
### 信道划分
- FDM 
- TDM
- WDM
- CDMA
  - 1 知道源点发 1
  - -1 知道源点发 0
  - 0 知道源点不发

### 随机接入协议
- ALOHA
  - 一个中心发射机，几个外围站点，当站点有分组要分送，在上行频率发送分组，中心发射机在下行频率重发分组？
- 时隙ALOHA
- CSMA/CD
- CSMA/CA

载波监听
- 每个站在发送之前要检测以下总线上是否有其他站点在发送帧
- 检测到总线空闲 96 比特时间，就发送
- 忙就等待直到满足上述条件

多址接入
- 多个站连接在一条总线上，竞争使用总线

碰撞检测
- 边发送发送边检测
- 出现碰撞立刻停止，退避一段随机事件再次发送

争用期、碰撞窗口
- 以太网的端到端往返传播时延 2t

最小帧长
- 确保主机可在帧发送完成之前就检测到该帧**发送过程**中是否遭遇碰撞
- 以太网最小帧长64B，512比特事件未其争用期，小于的就丢弃

最大帧长
- 1518(1500 + 18首尾)，VLAN 802.1Q 多加上 4B 来区分 VLAN，1522

阶段二进制指数退避算法
- 退避时间 = 争用期 * 随机数$ 0, 1, 2, ..., 2^{k - 1} $ **k = min(重传次数, 10)**，重传16次还不能就丢弃，向高层报告

1-坚持
非检查
p-坚持 p大吞吐量大？别的站等待时间长，吞吐量小

使用 CSMA/CA 的原因

CTS、RTS

CSMA/CA 和 CD 的过程

数据帧也能携带通信需要的持续事件——**虚拟载波监听**

## WIFI两种模式
AP结构
自组织结构

## 802.3 802.11
王道P105

## 以太网无差错控制

## 存储转发交换机学习特性
MAC地址和接口映射关系

帧 交换机
- 查不到 记录哪个接口来的 泛洪转发
- 查得到 明确转发

## 交换机两种模式

## MAC地址
48 bit

3B 机构唯一标识符
3B NIC 特定地址码

## 以太网帧
头部
- 6B 目的地址
- 6B 源地址
- 2B 字节类型

尾部
- 4B CRC

# 网络层
## IPv4
32 位地址 
IPv6 128   96倍

## 分类编址
- A 1-126
- B 128 - 191
- C 192 - 223
- D 224 - 239？

## 划分子网

## 无类贬值
CIDR
路由聚合 最长前缀匹配

## ARP
广播发出去
单播发回来

通过IP地址找到MAC地址

(IP地址，MAC地址，类型)

## ICMP
封装在IP报文中
区分IGMP管理组播成员的
### 差错报告报文
- 终点不可达
- 源点抑制
- 事件超过
- 参数问题
- 重定向

### 询问报文常用
回送请求和回答，测试目的站是否可达
时间戳请求和回答，时钟同步

## 路由选择协议
- 内部网关协议IGP
  - 路由信息协议RIP
  - 开放式最短路径优先协议OSPF
- 外部网关协议EGP
  - 边界网关协议BGP

自治系统AS：因特网别划分为一个个AS，一个AS的...




